<!DOCTYPE html><html><head>
      <title>Python_Essentials</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1>Python Essentials</h1>
<blockquote>A workshop provided by the <strong>Cathie Marsh Institute (CMI)</strong> at the University of Manchester on 1st June 2021</blockquote>
<h2>Workshop outline</h2>
<p>A 3 hour workshop on Python can be little more than a broad introduction to the language. You will not leave as Python programmers. The aim is to give you the confidence to write your own Python code to solve simple data analysis tasks by possibly adapting the small sections of code that we will use this afternoon.</p>
<p>The workshop is broken up into three sections.</p>
<ol>
<li>
<p>We will start by explaining how you can install Python on your own     machine and the Jupyter Lab environment in which you can develop your Python code.</p>
</li>
<li>
<p>Within this environment we will go through some of the basics of the  Python language. We will only cover the basics that we will want to     use in the 3<sup>rd</sup> section.</p>
</li>
<li>
<p>Finally we will create code for a real data analysis task using an     open source dataset as our starting point.</p>
</li>
</ol>
<p>It is loosely based on the Data Carpentry for Social Sciences Python lesson, which is normally taught over a day with material to spare.</p>
<p>We clearly won&#x2019;t have time to cover all of the Carpentry material, but it is all freely available online at <a href="https://datacarpentry.org/python-socialsci/">https://datacarpentry.org/python-socialsci/</a></p>
<h3 class="mume-header" id="download-the-dataset-we-will-be-using">Download the dataset we will be using</h3>

<p>The dataset that we will be using for the workshop is one of the many that comes from <a href="https://movielens.org/">movielens</a> and is freely available for download. For convenience you can use this link to download the <a href="data/movie_ratings_summary.csv">movie_ratings_summary.csv</a>. For now, you can download it to anywhere you like (Desktop, P: drive) - as long as you remember where you left it!</p>
<h2>Section 1</h2>
<h3 class="mume-header" id="installing-anaconda-python-on-a-windows-machine">Installing Anaconda Python on a Windows machine</h3>

<p><video width="640" height="480" controls src="./video/Jupyter.mp4">Installing Jupyter<br>
</video></p>
<h3 class="mume-header" id="the-jupyter-environment-what-we-need-to-know">The Jupyter Environment - what we need to know</h3>

<ul>
<li>
<p>Creating new cells</p>
</li>
<li>
<p>Cut/Copy/Paste</p>
</li>
<li>
<p>Running Cells</p>
</li>
<li>
<p>Output and the numbering system</p>
</li>
<li>
<p>Different cell types</p>
</li>
<li>
<p>Creating new notebooks</p>
</li>
<li>
<p>Naming notebooks</p>
</li>
<li>
<p>Browsing files from left hand pane (Jupyter Lab)</p>
</li>
</ul>
<h2>Section 2: Introducing the Python programming language</h2>
<p>Python is a general purpose programming language. It is an interpreted language, which makes it suitable for rapid development and prototyping of programming segments or complete small programs.</p>
<p>Python&apos;s main advantages:</p>
<ul>
<li>
<p>Open source software, supported by <a href="https://www.python.org/psf/"><em>Python Software Foundation</em></a></p>
</li>
<li>
<p>Available on all major platforms (Windows, macOS, Linux)</p>
</li>
<li>
<p>It is a good language for new programmers to learn due to its     straightforward, object-oriented style</p>
</li>
<li>
<p>It is well-structured, which aids readability</p>
</li>
<li>
<p>It is extensible (i.e. modifiable) and is supported by a large     community who provide a comprehensive range of 3rd party packages</p>
</li>
</ul>
<h2>Interpreted vs. compiled languages</h2>
<p>In any programming language, the code must be translated into &quot;machine code&quot; before running it. It is the machine code which is executed and produces results. In a language like C++ your code is translated into machine code and stored in a separate file, in a process referred to as <strong>compiling</strong> the code. You then execute the machine code from the file as a separate step. This is efficient if you intend to run the same machine code many times as you only have to compile it once and it is very fast to run the compiled machine code.</p>
<p>On the other hand, if you are experimenting, then your code will change often and you would have to compile it again every time before the machine can execute it. This is where <strong>interpreted</strong> languages have the advantage. You don&apos;t need a complete compiled program to &quot;run&quot; what has been written so far and see the results. This rapid prototyping is helped further by use of a system called REPL.</p>
<h2>REPL</h2>
<p><strong>REPL</strong> is an acronym which stands for Read, Evaluate, Print and Loop.</p>
<p>REPL allows you to write single statements of code, have them executed, and if there are any results to show, they are displayed and then the interpreter loops back to the beginning and waits for the next program statement.</p>
<p><img src="./media/media/image1.png" alt="Python_Repl"></p>
<p>In the example above, two variables a and b have been created, assigned to values 2 and 3, and then multiplied together.</p>
<p>Every time you press Return, the line is interpreted. The assignment<br>
statements don&apos;t produce any output so you get only the standard<br>
<code>&gt;&gt;&gt;</code> prompt.</p>
<p>For the <code>a*b</code> statement (it is more of an expression than a statement),because the result is not being assigned to a variable, the REPL displays the result of the calculation on screen and then waits for the next input.</p>
<p>The REPL system makes it very easy to try out small chunks of code.</p>
<p>You are not restricted to single line statements. If the Python interpreter decides that what you have written on a line cannot be a complete statement it will give you a continuation prompt of ... until you complete the statement.</p>
<h2>Introducing Jupyter notebooks</h2>
<p><a href="http://jupyter.org/"><strong>Jupyter</strong></a> originates from IPython, an effort to make Python development more interactive. Since its inception, the scope of the project has expanded to include <strong>Ju</strong>lia, <strong>Pyt</strong>hon, and <strong>R</strong>, so the name was changed to &quot;Jupyter&quot; as a reference to these core languages. Today, Jupyter supports even more languages, but we will be using it only for Python code. Specifically, we will be using <strong>Jupyter notebooks</strong>, which allows us to easily take notes about our analysis and view plots within the same document where we code. This facilitates sharing and reproducibility of analyses, and the notebook interface is easily accessible through any web browser. Jupyter notebooks are started from the terminal using</p>
<pre data-role="codeBlock" data-info class="language-"><code>\$ jupyter notebook
</code></pre><p>Your browser should start automatically and look something like this:</p>
<p><img src="./media/media/image2.png" alt="Jupyter_notebook_list"></p>
<p>When you create a notebook from the <em>New</em> option, the new notebook will be displayed in a new browser tab and look like this.</p>
<p><img src="./media/media/image3.png" alt="Jupyter_notebook"></p>
<p>Initially the notebook has no name other than &apos;Untitled&apos;. If you click on &apos;Untitled&apos; you will be given the option of changing the name to whatever you want.</p>
<p>The notebook is divided into <strong>cells</strong>. Initially there will be a single input cell marked by <code>In [ ]:</code>.</p>
<p>You can type Python code directly into the cell. You can split the code across several lines as needed. Unlike the REPL we looked at before, the code is not interpreted line by line. To interpret the code in a cell, you can click the <em>Run</em> button in the toolbar or from the <em>Cell</em> menu option, or use keyboard shortcuts (e.g., Shift+Return). All of the code in that cell will then be executed.</p>
<p>The results are shown in a separate Out [1]: cell immediately below. A new input cell <code>In [ ]:</code> is created for you automatically.</p>
<p><img src="./media/media/image4.png" alt="Jupyter_notebook_cell"></p>
<p>When a cell is run, it is given a number along with the corresponding output cell. If you have a notebook with many cells in it you can run the cells in any order and also run the same cell many times. The number on the left hand side of the input cells increments, so you can always tell the order in which they were run. For example, a cell marked <code>In [5]:</code> was the fifth cell run in the sequence.</p>
<p>Although there is an option to do so on the toolbar, you do not have to manually save the notebook. This is done automatically by the Jupyter system.</p>
<p>Not only are the contents of the <code>In [ ]:</code> cells saved, but so are the <code>Out [ ]:</code> cells. This allows you to create complete documents with both your code and the output of the code in a single place. You can also change the cell type from Python code to Markdown using the <em>Cell &gt; Cell Type</em> option.<br>
<a href="https://en.wikipedia.org/wiki/Markdown"><strong>Markdown</strong></a> is a simple formatting system which allows you to create documentation for your code, again all within the same notebook structure.</p>
<p>The notebook itself is stored as specially-formatted text file with an .ipynb extension. These files can be opened and run by others with Jupyter installed. This allows you to share your code inputs, outputs, and Markdown documentation with others. You can also export the notebook to HTML, PDF, and many other formats to make sharing even easier.</p>
<h2>Using the Jupyter environment</h2>
<h3 class="mume-header" id="new-cells">New cells</h3>

<p>From the insert menu item you can insert a new cell anywhere in the notebook either above or below the current cell. You can also use the &apos;+&apos; button on the toolbar to insert a new cell below.</p>
<h3 class="mume-header" id="change-cell-type">Change cell type</h3>

<p>By default new cells are created as code cells. From the cell menu item you can change the type of a cell from code to markdown. Markdown is a markup language for formatting text, it has much of the power of HTML, but is specifically designed to be human-readable as well. You can use Markdown cells to insert formatted textual explanation and analysis into your notebook. For more information about Markdown, check out these resources:</p>
<ul>
<li>
<p><a href="http://jupyter-notebook.readthedocs.io/en/stable/examples/Notebook/Working%20With%20Markdown%20Cells.html">Jupyter Notebook Markdown Docs</a></p>
</li>
<li>
<p><a href="https://guides.github.com/features/mastering-markdown/">Mastering Markdown from Github</a></p>
</li>
<li>
<p><a href="https://daringfireball.net/projects/markdown/">Markdown official open source project</a></p>
</li>
</ul>
<h3 class="mume-header" id="hiding-output">Hiding output</h3>

<p>When you run cells of code the output is displayed immediately below the cell. In general this is convenient. The output is associated with the cell that produced it and remains a part of the notebook. So if you copy or move the notebook the output stays with the code.</p>
<p>However lots of output can make the notebook look cluttered and more difficult to move around. So there is an option available from the cell menu item to &apos;toggle&apos; or &apos;clear&apos; the output associated either with an individual cell or all cells in the notebook.</p>
<h2>Creating variables and assigning values</h2>
<p><strong>The Notebook for this section can be found</strong> <a href="scripts\Python_Essentials_basics.ipynb">here</a></p>
<h3 class="mume-header" id="variables-and-types">Variables and Types</h3>

<p>Comparison with Excel : see <a href="Digression_variables.docx">Digression_Variables.docx</a></p>
<p>In Python variables are created when you first assign values to them.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">a <span class="token operator">=</span> <span class="token number">2</span>
b <span class="token operator">=</span> <span class="token number">3.142</span>
</pre><p>All variables have a data type associated with them. The data type is and indication of the type of data contained in a variable. If you want to know the type of a variable you can use the built-in type() function.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>&lt;class &apos;int&apos;&gt;
&lt;class &apos;float&apos;&gt;
&lt;class &apos;str&apos;&gt;
</code></pre><p>There are many more data types available, a full list is available in<br>
the <a href="https://docs.python.org/3/library/datatypes.html">Python documentation</a>. We will be looking a few of them later on.</p>
<h2>Arithmetic operations</h2>
<p>For now we will stick with the numeric types and do some arithmetic.</p>
<p>All of the usual arithmetic operators are available.</p>
<p>In the examples below we also introduce the Python comment symbol #. Anything to the right of the # symbol is treated as a comment. To a large extent using Markdown cells in a notebook reduces the need for comments in the code in a notebook, but occasionally they can be useful.</p>
<p>We also make use of the built-in print() function, which displays formatted text.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a =&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">&quot;and b =&quot;</span> <span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>                   <span class="token comment"># addition</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">*</span> b<span class="token punctuation">)</span>                   <span class="token comment"># multiplication</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>                   <span class="token comment"># subtraction</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">/</span> b<span class="token punctuation">)</span>                   <span class="token comment"># division</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b <span class="token operator">**</span> a<span class="token punctuation">)</span>                  <span class="token comment"># exponentiation</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> a <span class="token operator">%</span> b<span class="token punctuation">)</span>               <span class="token comment"># modulus - returns the remainder</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>5.1419999999999995
6.284
-1.142
0.6365372374283896
9.872164
0.8580000000000001
</code></pre><p>We need to use the print() function because by default only the last output from a cell is displayed in the output cell.</p>
<p>In our example above, we pass four different parameters to the first call of print(), each separated by a comma. A string <code>&quot;a = &quot;</code>, followed by the variable <code>a</code>, followed by the string <code>&quot;b = &quot;</code> and then the variable <code>b</code>.</p>
<p>The output is what you would might have guessed at. But notice that the print command automatically adds spaces between the variable values</p>
<p>All of the other calls to print() are only passed a single parameter. Although it may look like 2 or 3, the expressions are evaluated first and it is only the single result which is seen as the parameter value and printed.</p>
<p>In the last expression a is multiplied by 2 and then the modulus of the result is taken. Had I wanted to calculate a % b and then multiply the result by two I could have done so by using brackets to make the order of calculation clear.</p>
<p>Arithmetic expressions can be arbitrarily complex, but remember people have to read and understand them as well.</p>
<p>A complete set of Python operators can be found in the <a href="https://docs.python.org/3.5/library/operator.html">official documentation</a>. The documentation may appear a bit confusing as it initially talks about operators as functions whereas we generally use them as &apos;in place&apos; operators. Section 10.3.1 provides a table which list all of the available operators, not all of which are relevant to basic arithmetic.</p>

<h2>Using built-in functions</h2>
<p>Python has a reasonable number of built-in functions. You can find a complete list in the <a href="https://docs.python.org/3/library/functions.html">official documentation</a>.</p>
<p>Additional functions are provided by 3rd party packages which we will look at later on.</p>
<p>For any function, a common question to ask is: What parameters does this function take?</p>
<p>In order to answer this from Jupyter, you can type the function name and then type shift+tab and a pop-up window will provide you with various details about the function including the parameters.</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<p>For the print() function find out what parameters can be provided</p>
<details><summary><b>Solution</b>  - click me</summary>
<blockquote>
<h3>Solution</h3>
</blockquote>
<p>Type &apos;print&apos; into a code cell and then type shift+tab. The following pop-up should appear.</p>
<p><img src="./media/media/image5.png" alt="Print parameter information"></p>
</details>
<h2>Getting Help for Python</h2>
<p>You can get help on any Python function by using the help function. It takes a single parameter of the function name for which you want the help</p>
<p><code>help(print)</code></p>
<pre data-role="codeBlock" data-info class="language-"><code>Help on built-in function print in module builtins:

print(...)

print(value, ..., sep=&apos; &apos;, end=&apos;\n&apos;, file=sys.stdout, flush=False)

Prints the values to a stream, or to sys.stdout by default.

Optional keyword arguments:

file: a file-like object (stream); defaults to the current sys.stdout.

sep: string inserted between values, default a space.

end: string appended after the last value, default a newline.

flush: whether to forcibly flush the stream.
</code></pre><p>There is a great deal of Python help and information as well as code examples available from the internet. One popular site is <a href="https://stackoverflow.com/tags">stackoverflow</a> which specialises in providing programming help. They have dedicated forums not only for Python but also for many of the popular 3rd party Python packages. They also always provide code examples to illustrate answers to questions. You can also get answers to your queries by simply inputting your question (or selected keywords) into any search engine.</p>
<p>A couple of things you may need to be wary of: There are currently 2 versions of Python in use, in most cases code examples will run in either but there are some exceptions. Secondly, some replies may assume a knowledge of Python beyond your own, making the answers difficult to follow. But for any given question there will be a whole range of suggested solutions so you can always move on to the next.</p>
<h2>Data types and how Python uses them</h2>
<h3 class="mume-header" id="changing-data-types">Changing data types</h3>

<p>The data type of a variable is assigned when you give a variable a value as we did above. If you re-assign the value of a variable, you can change the data type.</p>
<p>You can also explicitly change the type of a variable by casting it using an appropriate Python builtin function. In this example we have changed a string to a float.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">a <span class="token operator">=</span> <span class="token string">&quot;3.142&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>&lt;class &apos;str&apos;&gt;
&lt;class &apos;float&apos;&gt;
</code></pre><p>Although you can always change an integer to a float, if you change a float to an integer then you can lose part of the value of the variable and you won&apos;t get an error message.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">a <span class="token operator">=</span> <span class="token number">3.142</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> a\<span class="token operator">*</span><span class="token number">1.0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token number">3.142</span>
a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>&lt;class &apos;float&apos;&gt;
&lt;class &apos;int&apos;&gt;
&lt;class &apos;float&apos;&gt;
&lt;class &apos;int&apos;&gt;
&lt;class &apos;int&apos;&gt;
3
</code></pre><p>In some circumstances explicitly converting a data type makes no sense; you cannot change a string with alphabetic characters into a number.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">b <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>&lt;class &apos;str&apos;&gt;

---------------------------------------------------------------------------

ValueError Traceback (most recent call last)

&lt;ipython-input-8-9f5f81a470f9&gt; in &lt;module&gt;()
</code></pre><h2>Strings</h2>
<p>A string is a simple data type which holds a sequence of characters.</p>
<p>Strings are placed in quotes when they are being assigned, but the quotes don&apos;t count as part of the string value.</p>
<p>If you need to use quotes as part of your string you can arbitrarily use either single of double quotes to indicate the start and end of the string.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">mystring <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span>
name <span class="token operator">=</span> <span class="token string">&quot;Peter&quot;</span>
mystring <span class="token operator">=</span> <span class="token string">&apos;Hello &apos;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&apos; How are you?&apos;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span>
name <span class="token operator">=</span> <span class="token string">&quot;Peter&quot;</span>
mystring <span class="token operator">=</span> <span class="token string">&apos;Hello this is &apos;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;&apos;s code&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>Hello World
Hello Peter How are you?
Hello this is Peter&apos;s code
</code></pre><h2>String functions</h2>
<p>There are a variety of Python functions available for use with strings. In Python a string is an object. An object put simply is something which has data, in the case of our string it is the contents of the string and methods. methods is another way of saying functions.</p>
<p>Although methods and functions are very similar in practice, there is a difference in the way you call them.</p>
<p>One typical bit of information you might want to know about a string is its length for this we use the len() function. For almost anything else you might want to do with strings, there is a method.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">mystring <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>11
</code></pre><p>If you want to see a list of all of the available methods for a string (or any other object) you can use the dir() function.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>[&apos;__add__&apos;, &apos;__class__&apos;, &apos;__contains__&apos;, &apos;__delattr__&apos;,
&apos;__dir__&apos;, &apos;__doc__&apos;, &apos;__eq__&apos;, &apos;__format__&apos;,
&apos;__ge__&apos;, &apos;__getattribute__&apos;, &apos;__getitem__&apos;,
&apos;__getnewargs__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, &apos;__init__&apos;,
&apos;__iter__&apos;, &apos;__le__&apos;, &apos;__len__&apos;, &apos;__lt__&apos;,
&apos;__mod__&apos;, &apos;__mul__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;,
&apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, &apos;__rmod__&apos;,
&apos;__rmul__&apos;, &apos;__setattr__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;,
&apos;__subclasshook__&apos;, &apos;capitalize&apos;, &apos;casefold&apos;, &apos;center&apos;, &apos;count&apos;,
&apos;encode&apos;, &apos;endswith&apos;, &apos;expandtabs&apos;, &apos;find&apos;, &apos;format&apos;, &apos;format_map&apos;,
&apos;index&apos;, &apos;isalnum&apos;, &apos;isalpha&apos;, &apos;isdecimal&apos;, &apos;isdigit&apos;, &apos;isidentifier&apos;,
&apos;islower&apos;, &apos;isnumeric&apos;, &apos;isprintable&apos;, &apos;isspace&apos;, &apos;istitle&apos;, &apos;isupper&apos;,
&apos;join&apos;, &apos;ljust&apos;, &apos;lower&apos;, &apos;lstrip&apos;, &apos;maketrans&apos;, &apos;partition&apos;, &apos;replace&apos;,
&apos;rfind&apos;, &apos;rindex&apos;, &apos;rjust&apos;, &apos;rpartition&apos;, &apos;rsplit&apos;, &apos;rstrip&apos;, &apos;split&apos;,
&apos;splitlines&apos;, &apos;startswith&apos;, &apos;strip&apos;, &apos;swapcase&apos;, &apos;title&apos;, &apos;translate&apos;,
&apos;upper&apos;, &apos;zfill&apos;]
</code></pre><p>The methods starting with &#x2018;__&#x2019; are special or magic methods which are not normally used.</p>
<p>Some examples of the methods are given below. We will use others when we start reading files.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">myString <span class="token operator">=</span> <span class="token string">&quot;The quick brown fox&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;The&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;The&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># notice that string positions start with 0 like all indexing in Python</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># The contents of myString is not changed, if you wanted an uppercase version</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">)</span> <span class="token comment"># you would have to assign it to a new variable</span>
</pre><p>The methods starting with &apos;is...&apos; return a boolean value of either True<br>
or False.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>The example above returns False because the space character is not<br>
considered to be an Alphanumeric value.</p>
<p>In the example below, we can use the replace() method to remove the spaces and then check to see if the result &#x2018;isalpha&#x2019;. Chaining methods in this way is quite common. The actions take place in a left to right manner.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>You can always avoid using chaining by using intermediary variables.<br>
For example, the following is equivalent to the above</p>
<pre data-role="codeBlock" data-info="python" class="language-python">mystring_clean <span class="token operator">=</span> myString<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mystring_clean<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>If you need to refer to a specific element (character) in a string, you can do so by specifying the index of the character in [] you can also use indexing to select a substring of the string. In Python, indexes begin with 0 (see <a href="http://interactivepython.org/runestone/static/CS152f17/Strings/IndexOperatorWorkingwiththeCharactersofaString.html">Index Operator: Working with the Characters of a String</a> for a visual).</p>
<pre data-role="codeBlock" data-info="python" class="language-python">myString <span class="token operator">=</span> <span class="token string">&quot;The quick brown fox&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># from index 0 to the end</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myString<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># from the beginning to one before index 9</span>

</pre><pre data-role="codeBlock" data-info class="language-"><code>T
o
x
The
The quick brown fox
The quick

</code></pre><h2>Basic Python data types</h2>
<p>So far we have seen three basic Python data types; Integer, Float and String. There is another basic data type; Boolean. Boolean variables can only have the values of either True or False. (Remember, Python is case sensitive, so be careful of your spelling.) We can define variables to be of type boolean by setting their value accordingly. Boolean variables are a good way of coding anything that has a binary range (eg: yes/no).</p>
<pre data-role="codeBlock" data-info="python" class="language-python">bool_val_t <span class="token operator">=</span> <span class="token boolean">True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>bool_val_t<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool_val_t<span class="token punctuation">)</span>
bool_val_f <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>bool_val_f<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool_val_f<span class="token punctuation">)</span>

</pre><p>Rather than  explicitly assigning a value of <code>True</code> and <code>False</code> it is more typical for the boolean value to be generated as the result of evaluating an expression using comparison operators, basic ones in Python are <code>==</code> for &quot;equal to&quot;, <code>!=</code>for &quot;not equal to&quot;, as well as  &gt;,<br>
&lt;, or &gt;=, &lt;=.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&apos;hello&apos;</span> <span class="token operator">==</span> <span class="token string">&apos;HELLO&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&apos;hello&apos;</span> <span class="token keyword">is</span> <span class="token string">&apos;hello&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">!=</span> <span class="token number">77</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&apos;four&apos;</span> <span class="token operator">&gt;</span> <span class="token string">&apos;three&apos;</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>False
True
True
True
False
</code></pre><h2>Structured data types</h2>
<p>A structured data type is a data type which is made up of some combination of the base data types in a well defined but potentially arbitrarily complex way.</p>
<h3 class="mume-header" id="the-list">The list</h3>

<p>A list is a set of values, of any type separated by commas and delimited by &apos;[&apos; and &apos;]&apos;</p>
<pre data-role="codeBlock" data-info="python" class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">89</span> <span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span>
list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3.142</span><span class="token punctuation">,</span> <span class="token number">2.71828</span><span class="token punctuation">,</span> <span class="token number">9.8</span> <span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span>
myname <span class="token operator">=</span> <span class="token string">&quot;Peter&quot;</span>
list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;to&apos;</span><span class="token punctuation">,</span> myname <span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span>
myname <span class="token operator">=</span> <span class="token string">&quot;Fred&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token punctuation">)</span>
list4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5.4</span><span class="token punctuation">,</span> <span class="token string">&quot;numbers&quot;</span><span class="token punctuation">,</span> <span class="token boolean">True</span> <span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>list4<span class="token punctuation">)</span><span class="token punctuation">)</span>

</pre><pre data-role="codeBlock" data-info class="language-"><code>[6, 54, 89]
&lt;class &apos;list&apos;&gt;
[3.142, 2.71828, 9.8]
&lt;class &apos;list&apos;&gt;
[&apos;Hello&apos;, &apos;to&apos;, &apos;Peter&apos;]
[&apos;Hello&apos;, &apos;to&apos;, &apos;Peter&apos;]
&lt;class &apos;list&apos;&gt;
[6, 5.4, &apos;numbers&apos;, True]
&lt;class &apos;list&apos;&gt;
</code></pre><h3 class="mume-header" id="the-range-function">The range function</h3>

<p>In addition to explicitly creating lists as we have above it is very common to create and populate them automatically using the range() function in combination with the list() function</p>
<pre data-role="codeBlock" data-info="python" class="language-python">list5 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list5<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>[0, 1, 2, 3, 4]
</code></pre><p>Unless told not to range() returns a sequence which starts at 0, counts up by 1 and ends 1 before the value of the provided parameter.</p>
<p>This can be a cause of confusion. range(5) above does indeed have 5 values, but rather than being 1,2,3,4,5 which you might naturally think, they are in fact 0,1,2,3,4. The range starts at 0 and stops one before the value of the single parameter we specified.</p>
<p>If you want different sequences, then you can modify the behaviour of the range() function by using additional parameters.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">list6 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list6<span class="token punctuation">)</span>
list7 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list7<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>[1, 2, 3, 4, 5, 6, 7, 8]
[2, 4, 6, 8, 10]
</code></pre><p>When you specify 3 parameters as we have for list7; the first is the start value, the second is one past the last value and the 3rd parameter is a step value by which to count. The step value can be negative.</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<p>list7 produces the even numbers from 1 to 10.</p>
<ol>
<li>
<p>What is produced if you change the step value in list7 to -2 ? Is this what you expected?</p>
</li>
<li>
<p>Create a list using the range() function which contains the even number between 1 and 10 in reverse order ([10,8,6,4,2])</p>
</li>
</ol>
<details><summary><b>Solution</b>  - click me</summary>
<blockquote>
<h3>Solution</h3>
</blockquote>
<pre data-role="codeBlock" data-info="python" class="language-python">list7 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list7<span class="token punctuation">)</span>
list8 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list8<span class="token punctuation">)</span>
</pre><p>list7 will print nothing because starting at 2 and incrementing by -2 is<br>
the wrong direction to 11.</p>
</details>
<h2>Strings</h2>
<p>Although we think of Strings as a simple data structure, for example when we make assignments;</p>
<pre data-role="codeBlock" data-info="python" class="language-python">s1 <span class="token operator">=</span> <span class="token string">&quot;The quick brown fox jumped over the lazy sleeping dog&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</pre><p>In many ways we can treat them as lists of individual characters. We can extract characters by using the index and string functions often return an index number.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># or a substring</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># String functions often return index values</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&apos;jumped&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>One string function which doesn&#x2019;t exist in base Python is a function to reverse a string. So how could we do it? There are undoubtedly many ways, but the most popular approach from on-line help searches suggests;</p>
<pre data-role="codeBlock" data-info="python" class="language-python">s1_rev <span class="token operator">=</span> s1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1_rev<span class="token punctuation">)</span>
</pre><h2>Control Structures</h2>
<h2>Programs are rarely linear</h2>
<p>Most programs do not work by executing a simple sequential set of statements. The code is constructed so that decisions and different paths through the program can be taken based on changes in variable values.</p>
<p>To make this possible all programming language have a set of control structures which allow this to happen.</p>
<p>In this episode we are going to look at how we can create loops and branches in our Python code. Specifically we will look at three control structures, namely:</p>
<ul>
<li>
<p>If..Else..</p>
</li>
<li>
<p>While...</p>
</li>
<li>
<p>For ...</p>
</li>
</ul>
<h2>The if statement and variants</h2>
<p>The simple if statement allows the program to branch based on the evaluation of an expression</p>
<p>The basic format of the if statement is:</p>
<pre data-role="codeBlock" data-info class="language-"><code>if expression :

    statement 1

    statement 2

...

    statement n

statement always executed
</code></pre><p>If the expression evaluates to True then the statements 1 to n will be executed followed by statement always executed . If the expression is False, only statement always executed is executed. Python knows which lines of code are related to the if statement by the indentation, no extra syntax is necessary.</p>
<p>Below are some examples:</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 1\n&quot;</span><span class="token punctuation">)</span>

value <span class="token operator">=</span> <span class="token number">5</span>
threshold<span class="token operator">=</span> <span class="token number">4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;value is&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot;threshold is &quot;</span><span class="token punctuation">,</span>threshold<span class="token punctuation">)</span>
<span class="token keyword">if</span> value <span class="token operator">&gt;</span> threshold <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&quot;is above &quot;</span><span class="token punctuation">,</span> threshold<span class="token punctuation">,</span> <span class="token string">&quot; threshold&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 2\n&quot;</span><span class="token punctuation">)</span>

high_threshold <span class="token operator">=</span> <span class="token number">6</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;value is&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot;new threshold is &quot;</span><span class="token punctuation">,</span>high_threshold<span class="token punctuation">)</span>
<span class="token keyword">if</span> value <span class="token operator">&gt;</span> high_threshold <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value <span class="token punctuation">,</span> <span class="token string">&quot;is above &quot;</span><span class="token punctuation">,</span> high_threshold<span class="token punctuation">,</span> <span class="token string">&quot;threshold&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 3\n&quot;</span><span class="token punctuation">)</span>

mid_threshold <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;value is&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot;final threshold is &quot;</span><span class="token punctuation">,</span>mid_threshold<span class="token punctuation">)</span>
<span class="token keyword">if</span> value <span class="token operator">==</span> mid_threshold <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;value, &quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot; and threshold,&quot;</span><span class="token punctuation">,</span> mid_threshold<span class="token punctuation">,</span> <span class="token string">&quot;, are equal&quot;</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>Example 1

value is 5 threshold is 4

5 is bigger than 4

Example 2

value is 5 new threshold is 6

Example 3

value is 5 final threshold is 5

value, 5, and threshold, 5, are equal
</code></pre><p>In the examples above there are three things to notice:</p>
<ol>
<li>
<p>The colon `:` at the end of the if line. Missing this out is a common error.</p>
</li>
<li>
<p>The indentation of the print statement. If you remembered the : on the line before, Jupyter (or any other Python IDE) will automatically do the indentation for you. All of the statements indented at this level are considered to be part of the if statement. This is a feature fairly unique to Python, that it cares about the indentation. If there is too much, or too little indentation, you will get an error.</p>
</li>
<li>
<p>The if statement is ended by removing the indent. There is no explicit end to the if statement as there is in many other programming languages</p>
</li>
</ol>
<p>In the last example, notice that in Python the operator used to check equality is ==.</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<p>Add another <code>if</code> statement to example 2 that will check if b is greater than or equal to a</p>
<details><summary><b>Solution</b>  - click me</summary>
<blockquote>
<h3>Solution</h3>
</blockquote>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 2a\n&quot;</span><span class="token punctuation">)</span>
a<span class="token operator">=</span> <span class="token number">3</span>
b<span class="token operator">=</span> <span class="token number">4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a is&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">&quot;b is&quot;</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
<span class="token keyword">if</span> a <span class="token operator">&gt;</span> b <span class="token punctuation">:</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot;is bigger than &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">if</span> a <span class="token operator">&lt;=</span> b <span class="token punctuation">:</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">&quot;is bigger than or equal to &quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
</pre></details>
<br>
Instead of using two separate if statements to decide which is larger we can use the if ... else ... construct
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># If ... Else ...</span>

value <span class="token operator">=</span> <span class="token number">4</span>
threshold <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;value = &quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">&quot;and threshold = &quot;</span><span class="token punctuation">,</span> threshold<span class="token punctuation">)</span>
<span class="token keyword">if</span> value <span class="token operator">&gt;</span> threshold <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;above threshold&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">else</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;below threshold&quot;</span><span class="token punctuation">)</span>

value <span class="token operator">=</span> <span class="token number">4</span> <span class="token keyword">and</span> threshold <span class="token operator">=</span> <span class="token number">5</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>below threshold
</code></pre><p>A further extension of the if statement is the if ... elif ...else version.</p>
<p>The example below allows you to be more specific about the comparison of a and b.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># If ... Elif ... Else ... EndIf</span>

a <span class="token operator">=</span> <span class="token number">5</span>
b <span class="token operator">=</span> <span class="token number">4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;a = &quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token string">&quot;and b = &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">if</span> a <span class="token operator">&gt;</span> b <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot; is greater than &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">elif</span> a <span class="token operator">==</span> b <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot; equals &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token keyword">else</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot; is less than &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>

a <span class="token operator">=</span> <span class="token number">5</span> <span class="token keyword">and</span> b <span class="token operator">=</span> <span class="token number">4</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>5 is greater than 4
</code></pre><p>The overall structure is similar to the if ... else statement. There are three additional things to notice:</p>
<ol>
<li>
<p>Each elif clause has its own test expression.</p>
</li>
<li>
<p>You can have as many elif clauses as you need</p>
</li>
<li>
<p>Execution of the whole statement stops after an elif expression is found to be True. Therefore the ordering of the elif clause can be significant.</p>
</li>
</ol>
<h2>The while loop</h2>
<p>The while loop is used to repeatedly execute lines of code until some condition becomes False.</p>
<p>For the loop to terminate, there has to be something in the code which will potentially change the condition.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># while loop</span>
n <span class="token operator">=</span> <span class="token number">10</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># sum of n numbers</span>
i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">:</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>The sum of the numbers from 1 to 10 is 55
</code></pre><p>Points to note:</p>
<ol>
<li>
<p>The condition clause <code>(i &lt;= n)</code> in the while statement can be anything which when evaluated would return a Boolean value of either True of False. Initially <code>i</code> has been set to 1 (before the start of the loop) and therefore the condition is True.</p>
</li>
<li>
<p>The clause can be made more complex by use of parentheses and and and or operators amongst others</p>
</li>
<li>
<p>The statements after the while clause are only executed if the condition evaluates as True.</p>
</li>
<li>
<p>Within the statements after the while clause there should be something which potentially will make the condition evaluate as False next time around. If not the loop will never end.</p>
</li>
<li>
<p>In this case the last statement in the loop changes the value of <code>i</code> which is part of the condition clause, so hopefully the loop will end.</p>
</li>
<li>
<p>We called our variable cur_sum and not sum because sum is a builtin function (try typing it in, notice the editor changes it to green). If we define sum = 0 now we can&apos;t use the function sum in this Python session.</p>
</li>
</ol>
<blockquote>
<h3>Exercise - Things that can go wrong with while loops</h3>
</blockquote>
<p>In the examples below, without running them try to decide why we will not get the required answer. Run each, one at a time, and then correct them. Remember that when the input next to a notebook cell is [*] your Python interpreter is still working.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># while loop - summing the numbers 1 to 10</span>

n <span class="token operator">=</span> <span class="token number">10</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># sum of n numbers</span>

i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">:</span>
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">)</span>

<span class="token comment"># while loop - summing the numbers 1 to 10</span>

n <span class="token operator">=</span> <span class="token number">10</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>
boolvalue <span class="token operator">=</span> <span class="token boolean">False</span>

<span class="token comment"># sum of n numbers</span>

i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> i <span class="token operator">&lt;=</span> n <span class="token keyword">and</span> boolvalue<span class="token punctuation">:</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">)</span>

<span class="token comment"># while loop - summing the numbers 1 to 10</span>

n <span class="token operator">=</span> <span class="token number">10</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># sum of n numbers</span>

i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> i <span class="token operator">!=</span> n <span class="token punctuation">:</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">)</span>

<span class="token comment"># while loop - summing the numbers 1.1 to 9.9 i. steps of 1.1</span>

n <span class="token operator">=</span> <span class="token number">9.9</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># sum of n numbers</span>

i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> i <span class="token operator">!=</span> n <span class="token punctuation">:</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i
    i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1.1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1.1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">)</span>
</pre><blockquote>
<h3>Solution</h3>
</blockquote>
<details><summary><b>Solution</b>  - click me</summary>
<ol>
<li>
<p>Because i is incremented before the sum, you are summing 1 to 11.</p>
</li>
<li>
<p>The Boolean value is set to False the loop will never be executed.</p>
</li>
<li>
<p>When i does equal 10 the expression is False and the loop does not execute so we have only summed 1 to 9</p>
</li>
<li>
<p>Because you cannot guarantee the internal representation of Float, you should never try to compare them for equality. In this particular case the <code>i</code> never &apos;equals&apos; <code>n</code> and so the loop never ends. If you did try running this, you can stop it using Ctrl+c in a terminal or going to the kernel menu of a notebook and choosing interrupt. {: .solution} {: .challenge}</p>
</li>
<li>
<p>In practice the more usual way of performing this kind of task, i.e.     when you want to repeat something a fixed number of times, you would use code similar to this:</p>
</li>
</ol>
<pre data-role="codeBlock" data-info="python" class="language-python">n <span class="token operator">=</span> <span class="token number">10</span>
cur_sum <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    cur_sum <span class="token operator">=</span> cur_sum <span class="token operator">+</span> i

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of the numbers from 1 to&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token string">&quot;is &quot;</span><span class="token punctuation">,</span> cur_sum<span class="token punctuation">)</span>

</pre></details>
<br>
<h2>The for loop</h2>
<p>The for loop, like the while loop repeatedly executes a set of statements. The difference is that in the for loop we know in at the outset how often the statements in the loop will be executed. We don&apos;t have to rely on a variable being changed within the looping statements.</p>
<p>The basic format of the for statement is</p>
<pre data-role="codeBlock" data-info class="language-"><code>for variable_name in some_sequence :
    statement1
    statement2

...

    statementn

</code></pre><p>The key part of this is the some_sequence. The phrase used in the documentation is that it must be &apos;iterable&apos;. That means, you can count through the sequence, starting at the beginning and stopping at the end.</p>
<p>There are many examples of things which are iterable some of which we have already come across.</p>
<ul>
<li>Lists are iterable - they don&apos;t have to contain numbers, you iterate over the elements in the list.</li>
<li>The range() function</li>
<li>The characters in a string</li>
</ul>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 1\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 2\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> name <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Dick&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Harry&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 3\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> name <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">3.142</span><span class="token punctuation">]</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 4\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 5\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 6\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 7\n&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token string">&quot;ABCDE&quot;</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nExample 8\n&quot;</span><span class="token punctuation">)</span>

longString <span class="token operator">=</span> <span class="token string">&quot;The quick brown fox jumped over the lazy sleeping dog&quot;</span>
<span class="token keyword">for</span> word <span class="token keyword">in</span> longString<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>Example 1

1
2
3

Example 2

Tom
Dick
Harry

Example 3

Tom
42
3.142

Example 4

0
1
2

Example 5

1
2
3

Example 6

2
4
6
8
10

Example 7

A
B
C
D
E

Example 8

The
quick
brown
fox
jumped
over
the
lazy
sleeping
dog

</code></pre><blockquote>
<h3>Exercise</h3>
</blockquote>
<p>Suppose that we have a string containing a set of 4 different values separated by ; like this:</p>
<pre data-role="codeBlock" data-info="python" class="language-python">items_owned <span class="token operator">=</span> <span class="token string">&quot;bicycle;television;solar_panel;table&quot;</span>
</pre><p>Research the split() method and then rewrite example 8 so that it prints the 4 components of items_owned</p>
<blockquote>
<h3>Solution</h3>
</blockquote>
<details><summary><b>Solution</b>  - click me</summary>
<pre data-role="codeBlock" data-info="python" class="language-python">items_owned <span class="token operator">=</span> <span class="token string">&quot;bicycle;television;solar_panel;table&quot;</span>

<span class="token keyword">for</span> item <span class="token keyword">in</span> items_owned<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
</pre></details>
<br>
<h2>Defining a function</h2>
<p>We have already made use of several Python builtin functions like print, list and range.</p>
<p>In addition to the functions provided by Python, you can write your own functions.</p>
<p>Functions are used when a section of code needs to be repeated at various different points in a program. It saves you re-writing it all. In reality you rarely need to repeat the exact same code. Usually there will be some variation in variable values needed. Because of this, when you create a function you are allowed to specify a set of parameters which represent variables in the function.</p>
<p>In our use of the print function we have provided as a parameter, whatever it is we wanted to print. Typically whenever we use the print function we pass a different parameter value.</p>
<p>The ability to specify parameters make functions very flexible.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">def</span> <span class="token function">get_item_count</span><span class="token punctuation">(</span>items_str<span class="token punctuation">,</span>sep<span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token triple-quoted-string string">&apos;&apos;&apos;

This function takes a string with a list of items and the character that
they&apos;re separated by and returns the number of items

&apos;&apos;&apos;</span>

items_list <span class="token operator">=</span> items_str<span class="token punctuation">.</span>split<span class="token punctuation">(</span>sep<span class="token punctuation">)</span>
num_items <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>items_list<span class="token punctuation">)</span>
<span class="token keyword">return</span> num_items

items_owned <span class="token operator">=</span> <span class="token string">&quot;bicycle;television;solar_panel;table&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get_item_count<span class="token punctuation">(</span>items_owned<span class="token punctuation">,</span><span class="token string">&apos;;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</pre><pre data-role="codeBlock" data-info class="language-"><code>4
</code></pre><p>Points to note:</p>
<ol>
<li>
<p>The definition of a function (or procedure) starts with the def keyword and is followed by the name of the function with any parameters used by the function in brackets.</p>
</li>
<li>
<p>The definition clause is terminated with a : which causes indentation on the next and subsequent lines. All of these lines form the statements which make up the function. The function ends after the indentation is removed.</p>
</li>
<li>
<p>Within the function, the parameters behave as variables whose initial values will be those that they were given when the function  was called.</p>
</li>
<li>
<p>functions have a return statement which specifies the value to be returned. This is the value assigned to the variable on the left-hand side of the call to the function. (power in the example above)</p>
</li>
<li>
<p>You call (run the code) of a function simply by providing its name and values for its parameters the same way you would for any builtin function.</p>
</li>
<li>
<p>Once the definition of the function has been executed, it becomes part of Python for the current session and can be used anywhere.</p>
</li>
<li>
<p>Like any other builtin function you can use shift + tab in Jupyter to see the parameters.</p>
</li>
<li>
<p>At the beginning of the function code we have a multiline comment denoted by the &apos;&apos;&apos; at the beginning and end. This kind of comment is known as a docstring and can be used anywhere in Python code as a documentation aid. It is particularly common, and indeed best practice, to use them to give a brief description of the function at the beginning of a function definition in this way. This is because this description will be displayed along with the parameters when you use the help() function or shift + tab in Jupyter.</p>
</li>
<li>
<p>The variable x defined within the function only exists within the function, it cannot be used outside in the main program.</p>
</li>
</ol>
<p>In our get_item_count function we have two parameters which must be provided every time the function is used. You need to provide the parameters in the right order or to explicitly name the parameter you are referring to and use the = sign to give it a value.</p>
<p>In many cases of functions we want to provide default values for parameters so the user doesn&apos;t have to. We can do this in the following way</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">def</span> <span class="token function">get_item_count</span><span class="token punctuation">(</span>items_str<span class="token punctuation">,</span>sep<span class="token operator">=</span><span class="token string">&apos;;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

<span class="token triple-quoted-string string">&apos;&apos;&apos;

This function takes a string with a list of items and the character that
they&apos;re separated by and returns the number of items if the sep
parameter is not provided, then the &#x2018;,&#x2019; character is taken as the
default value

&apos;&apos;&apos;</span>

    items_list <span class="token operator">=</span> items_str<span class="token punctuation">.</span>split<span class="token punctuation">(</span>sep<span class="token punctuation">)</span>
    num_items <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>items_list<span class="token punctuation">)</span>
    <span class="token keyword">return</span> num_items

<span class="token keyword">print</span><span class="token punctuation">(</span>get_item_count<span class="token punctuation">(</span>items_owned<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>The only change we have made is to provide a default value for the <code>sep</code> parameter. Now if the user does not provide a value, then the value of &apos;;&apos; will be used. Because <code>items_str</code> is the first parameter we can specify its value by position. We could however have explicitly named the parameters we were referring to.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>get_item_count<span class="token punctuation">(</span>items_str <span class="token operator">=</span> items_owned<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&apos;;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><pre data-role="codeBlock" data-info class="language-"><code>4
</code></pre><blockquote>
<h3>Exercise</h3>
</blockquote>
<ol>
<li>
<p>Write a function definition to calculate the volume of a cuboid. The     function will use three parameters H, W and L and return the volume.<br>
<br></p>
</li>
<li>
<p>Supposing that in addition to the volume I also wanted to calculate the surface area and the sum of all of the edges. Would I (or should I) have three separate functions or could I write a single function to provide all three values together?</p>
</li>
</ol>
<blockquote>
<h3>Solution</h3>
</blockquote>
<details><summary><b>Solution</b>  - click me</summary>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">def</span> <span class="token function">cuboid</span><span class="token punctuation">(</span>H<span class="token punctuation">,</span>W<span class="token punctuation">,</span>L<span class="token punctuation">)</span><span class="token punctuation">:</span>
    vol <span class="token operator">=</span> H<span class="token operator">*</span>W<span class="token operator">*</span>L
    sa <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>H<span class="token operator">*</span>W <span class="token operator">+</span> H<span class="token operator">*</span>L <span class="token operator">+</span> L<span class="token operator">*</span>W<span class="token punctuation">)</span>
    edges <span class="token operator">=</span> <span class="token number">4</span><span class="token operator">*</span><span class="token punctuation">(</span>H <span class="token operator">+</span> W <span class="token operator">+</span> L<span class="token punctuation">)</span>
    <span class="token keyword">return</span> vol<span class="token punctuation">,</span> sa<span class="token punctuation">,</span> edges

volume<span class="token punctuation">,</span> surface_area<span class="token punctuation">,</span> length_of_edges <span class="token operator">=</span> cuboid<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Volume = &quot;</span><span class="token punctuation">,</span> volume<span class="token punctuation">,</span> <span class="token string">&quot; Surface_area = &quot;</span><span class="token punctuation">,</span> surface_area<span class="token punctuation">,</span> <span class="token string">&quot; Sum of edges = &quot;</span><span class="token punctuation">,</span> length_of_edges<span class="token punctuation">)</span>

</pre><p>The cuboid function above returns all three values from a single call. This means that you need three variables in which to place the 3 returned values. If you do not provide three variables, you will get an error. Unless you are always going to use the 3 values, it would probably be better in this case to use distinct functions for these three cases.</p>
</details>
<br>
<h2>Using libraries</h2>
<p>The functions we have created above only exist for the duration of the session in which they have been defined. If you start a new Jupyter notebook you will have to run the code to define them again.</p>
<p>If all of your code is in a single file or notebook this isn&apos;t really a problem.</p>
<p>There are however many (thousands) of useful functions which other people have written and have made available to all Python users by creating libraries (also referred to as packages or modules) of functions.</p>
<p>You can find out what all of these libraries are and their contents by visiting the main (<a href="http://python.org">python.org</a>) site.</p>
<p>We need to go through a 2-step process before we can use them in our own programs.</p>
<p><strong>Step 1</strong>. use the pip command from the commandline. pip is installed as part of the Python install and is used to fetch the package from the Internet and install it in your Python configuration.</p>
<pre data-role="codeBlock" data-info class="language-"><code>&gt; pip install &lt;package name&gt;
</code></pre><p>pip stands for Python install package and is a commandline function. Because we are using the Anaconda distribution of Python, all of the packages that we will be using in this lesson are already installed for us, so we can move straight on to step 2.</p>
<p><strong>Step 2</strong>. In your Python code include an import package-name statement. Once this is done, you can use all of the functions contained within the package.</p>
<p>As all of these packages are produced by 3rd parties independently of each other, there is the strong possibility that there may be clashes in function names. To allow for this, when you are calling a function from a package that you have imported, you do so by prefixing the function name with the package name. This can make for long-winded function names so the import statement allows you to specify an alias for the package name which you must then use instead of the package name.</p>
<p>In future episodes, we will be importing the csv, json, pandas, numpy and matplotlib modules. We will describe their use as we use them.</p>
<p>The code that we will use is shown below</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">import</span> csv
<span class="token keyword">import</span> json
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
</pre><p>The first two we don&apos;t alias as they have short names. The last three we do. Matplotlib is a very large library broken up into what can be thought of as sub-libraries. As we will only be using the functions contained in the pyplot sub-library we can specify that explicitly when we import. This saves time and space. It does not effect how we call the functions in our code.</p>
<p>The alias we use (specified after the as keyword) is entirely up to us. However those shown here for pandas, numpy and matplotlib are nearly universally adopted conventions used for these popular libraries. If you are searching for code examples for these libraries on the Internet, using these aliases will appear most of the time.</p>
<h2>Introduce the data set and the processing</h2>
<p>For the rest of this workshop we will be using a dataset derived from the Movielens opensource datasets (<a href="https://movielens.org/">https://movielens.org/</a>). It is the one we downloaded at the beginning of the workshop. Our dataset provides viewers ratings of nearly 3000 movies from a variety of genres.</p>
<p>Initially we will use the dataset to demonstrate the pandas package. We will then use it to create some simple graphics</p>
<h2>What is Pandas?</h2>
<p><strong>The Notebook for this section can be found</strong> <a href="scripts\Python_Essentials_basics_pandas.ipynb">here</a></p>
<p>pandas is a Python library containing a set of functions and specialised data structures that have been designed to help Python programmers to perform data analysis tasks in a structured way.</p>
<p>Most of the things that pandas can do can be done with basic Python, but the collected set of pandas functions and data structure makes the data analysis tasks more consistent in terms of syntax and therefore aids readabilty.</p>
<p>Particular features of pandas that we will be looking at over this and the next couple of episodes include:</p>
<ul>
<li>
<p>Reading data stored in CSV files (other file formats can be read as<br>
well)</p>
</li>
<li>
<p><strong>Slicing and subsetting data in Dataframes (tables!)</strong></p>
</li>
<li>
<p>Dealing with missing data</p>
</li>
<li>
<p>Reshaping data (long -&gt; wide, wide -&gt; long)</p>
</li>
<li>
<p><strong>Inserting and deleting columns from data structures</strong></p>
</li>
<li>
<p><strong>Aggregating data using data grouping facilities using the<br>
split-apply-combine paradigm</strong></p>
</li>
<li>
<p>Joining of datasets (after they have been loaded into Dataframes)</p>
</li>
</ul>
<h2>Importing the pandas library</h2>
<p>Importing the pandas library is done in exactly the same way as for any other library. In almost all examples of Python code using the pandas library, it will have been imported and given an alias of pd. We will follow the same convention.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
</pre><h2>Pandas data structures</h2>
<p>There are two main data structures used by pandas, they are the Series and the Dataframe. The Series equates in general to a vector or a list. The Dataframe is equivalent to a table. Each column in a pandas Dataframe is a pandas Series data structure.</p>
<p>We will mainly be looking at the Dataframe.</p>
<p>We can easily create a Pandas Dataframe by reading a .csv file</p>
<h2>Reading a csv file</h2>
<p>In Pandas, csv files are read as complete datasets. All of the dataset records are assembled into a Dataframe. If your dataset has column headers in the first record then these can be used as the Dataframe column names. You can explicitly state this in the parameters to the call, but pandas is usually able to infer that there is a header row and use it automatically.</p>
<p>We are going to read in our movie_ratings_summary.csv file.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">input_file <span class="token operator">=</span> <span class="token string">&apos;../data/movie_ratings_summary.csv&apos;</span>

df_movies <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>input_file<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&apos;,&apos;</span><span class="token punctuation">)</span>
</pre><p>It is usual to put the name (and path) of the dataset into a string variable first and then pas the variable to the read_csv method. The second parameter indicates how the data items are separated, &#x2018;,&#x2019; is in fact the default for read_csv so we could have omitted it. However having it as a parameter makes the method more flexible. We can still use read_csv to read tab delimited file (sep = &apos;\t&apos;) or &#x2018;csv&#x2019; files from European sources where they use &#x2018;;&#x2019; instead of &#x2018;,&#x2019;.</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<p>What happens if you specify <code>sep=&apos;\t&apos;</code> when reading a csv dataset?</p>
<blockquote>
<h3>Solution</h3>
</blockquote>
<p>If you tell pandas to  that your columns are separated by the tab character and there aren&apos;t any, then each record will be treated as a single column. So the shape is given as 2811 rows (correct) but only one column. When the contents is displayed the only column name is the complete first record.</p>

<br>
<h2>Getting information about a Dataframe</h2>
<p>You can find out the type of the variable df_movies is by using the type function.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>You can find out how rows and columns it has with:</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">.</span>shape
</pre><p>You can see the first few rows of the dataframe by using;</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>The column names have been taken from the first record of the file. On the left hand side is a column with no name. The entries here have been provided by pandas and act as an index to reference the individual rows of the Dataframe. Most of the time we won&#x2019;t need to use this index.</p>
<p>The read_csv() function has an index_col parameter which you can use to indicate which of the columns in the file you wish to use as the index instead. Although the movies dataset does have a column which would uniquely identify each row; Title, we don&#x2019;t need to specify it at this point.</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<ol>
<li>
<p>As well as the <code>head()</code> method there is a <code>tail()</code> method. What do you think it does? Try it.</p>
</li>
<li>
<p>Both <code>head()</code> and <code>tail()</code> accept a single numeric parameter. What do you think it does? Try it.</p>
</li>
</ol>
<p>You can obtain other basic information about your Dataframe of data with:</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># How many rows?</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># How many rows and columns - returned as a tuple</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>

<span class="token comment">#How many &apos;cells&apos; in the table</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>size<span class="token punctuation">)</span>

<span class="token comment"># What are the column names</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>

<span class="token comment"># what are the data types of the columns?</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>dtypes<span class="token punctuation">)</span>
</pre><h2>Selecting rows and columns from a pandas Dataframe</h2>
<p>If we know which columns we want before we read the data from the file we can tell read_csv() to only import those columns by specifying columns either by their index number (starting at 0) as a list to the usecols parameter. Alternatively we can also provide a list of column names.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">input_file <span class="token operator">=</span> <span class="token string">&apos;../data/movie_ratings_summary.csv&apos;</span>

df_movies_some_cols <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>input_file<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&apos;,&apos;</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies_some_cols<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies_some_cols<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>

df_movies_some_cols <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>input_file<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">&apos;,&apos;</span><span class="token punctuation">,</span> usecols<span class="token operator">=</span>
<span class="token punctuation">[</span><span class="token string">&apos;genres&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Awful&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Bad&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Average&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Good&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies_some_cols<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>
</pre><p>Let us assume for now that we read in the complete file which is now in the Dataframe df_movies, how can we now refer to specific columns?</p>
<p>There are two ways of doing this using the column names (or labels):</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># Both of these statements are the same</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;genres&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># and</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>genres<span class="token punctuation">)</span>
</pre><p>If we are interested in more than one column, the 2nd method above cannot be used. However in the first, although we used a string with the value of &apos;genres&apos; we could also have provided a list of strings. Remember that lists are enclosed in [].</p>
<p>print(df_movies<a href="&apos;title&apos;,_&apos;genres&apos;.md">&apos;title&apos;, &apos;genres&apos;</a>)</p>
<blockquote>
<h3>Exercise</h3>
</blockquote>
<p>What happens if you:</p>
<ol>
<li>
<p>List the columns you want are out of order from the way they appear in  the file?</p>
</li>
<li>
<p>Put the same column name in twice?</p>
</li>
<li>
<p>Put in a non-existing column name? (a.k.a Typo)</p>
</li>
</ol>
<br>
<h2>Filtering by Rows</h2>
<p>You can filter the Dataframe by rows by specifying a range in the form of a:b. a is the first row and b is one beyond the last row required.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># select row with index of 1, 2 and 3 (rows 2, 3 and 4 in the Dataframe)</span>

df_movies_some_rows <span class="token operator">=</span> df_movies<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>

df_movies_some_rows
</pre><blockquote>
<h3>Exercise</h3>
</blockquote>
<p>What happens if we ask for a single row instead of a range?</p>
<blockquote>
<h3>Solution</h3>
</blockquote>
<details><summary><b>Solution</b>  - click me</summary>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</pre><p>You get an error if you only specify 1. You need to use :1 or 0:1 to get the first row returned. The : is always required. You can use : by itself to return all of the rows.</p>
</details>
<br>
<h2>Using criteria to filter rows</h2>
<p>It is more likely that you will want to select rows from the Dataframe based on some criteria, such as &quot;all rows where the value for genres is &#x2018;Comedy&#x2019;.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies_some_rows <span class="token operator">=</span> df_movies<span class="token punctuation">[</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>genres <span class="token operator">==</span> <span class="token string">&apos;Comedy&apos;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
df_movies_some_rows
</pre><p>The criteria can be more complex and isn&apos;t limited to a single column&apos;s values:</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies_some_rows <span class="token operator">=</span> df_movies<span class="token punctuation">[</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>genres <span class="token operator">==</span> <span class="token string">&apos;Comedy&apos;</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>
<span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>Excellent <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">]</span>

df_movies_some_rows
</pre><p>We can combine the row selection with column selection:</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies_some_rows <span class="token operator">=</span> df_movies<span class="token punctuation">[</span> <span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>genres <span class="token operator">==</span> <span class="token string">&apos;Comedy&apos;</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>df_movies<span class="token punctuation">.</span>Bad <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&apos;title&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;genres&apos;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

df_movies_some_rows
</pre><h2>Using Pandas functions to summarise data in a Data Frame</h2>
<p>For variables which contain numerical values we are often interested in various statistical measures relating to those values. For categorical variable we are often interested in the how many of each unique values are present in the dataset.</p>
<p>For numeric variables we can obtain a variety of basic statistical information by using the describe() method.</p>
<p>df_movies.describe()</p>
<p>This can be done for the Dataframe as a whole, in which case some of the results might have no sensible meaning. If there are any missing values, represented in the display as NaN you will get a warning message.</p>
<p>You can also .describe() on a single variable basis.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">[</span><span class="token string">&apos;Awful&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>There are also a set of methods which allow us to obtain individual values.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>df_movies<span class="token punctuation">[</span><span class="token string">&apos;Excellent&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>Unlike the describe() method which converts the variable to a float (when it was originally an integer), the individual summary methods only does so for the returned result if needed.</p>
<h2>Categorical variables</h2>
<p>For categorical variables, numerical statistics don&apos;t make any sense. For a categorical variable we can obtain a list of unique values used by the variable by using the <code>unique()</code> method.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">.</span>genres<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>Knowing all of the unique values is useful but what is more useful is knowing how many occurrences of each there are. In order to do this we can use the &apos;groupby()&apos; method.</p>
<p>Having performed the &apos;groupby()&apos; we can then describe() the results. The format is similar to that which we have seen before except that the &apos;grouped by&apos; variable appears to the left and there is a set of statistics for each unique value of the variable.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">grouped_data <span class="token operator">=</span> df_movies<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">&apos;genres&apos;</span><span class="token punctuation">)</span>

grouped_data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>You can group by more than one variable at a time by providing them as a list.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">grouped_data <span class="token operator">=</span> df_movies<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;genres&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Awful&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

grouped_data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>You can also obtain individual statistics if you want.</p>
<pre data-role="codeBlock" data-info="python" class="language-python">All_Average <span class="token operator">=</span> df_movies<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;genres&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Awful&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&apos;Average&apos;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>

All_Average
</pre><h2>Creating and Removing new columns</h2>
<p>So far we have just been using the columns that were in the original dataset. We can create new columns in our dataframe based on the values of the other columns. When you create a new column, the new column values are added to each row of the dataframe.</p>
<p>You create new columns in a very similar way to which we create any variable.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token comment"># The &apos;\&apos; characters are line continuation characters. </span>
<span class="token comment"># The indentation here is my choice, Python doesn&apos;t insist on it</span>


df_movies<span class="token punctuation">[</span><span class="token string">&apos;Total&apos;</span><span class="token punctuation">]</span> <span class="token operator">=</span> df_movies<span class="token punctuation">.</span>Awful <span class="token operator">+</span> \
                      df_movies<span class="token punctuation">.</span>Bad <span class="token operator">+</span> \
                      df_movies<span class="token punctuation">.</span>Average <span class="token operator">+</span> \
                      df_movies<span class="token punctuation">.</span>Good <span class="token operator">+</span> \
                      df_movies<span class="token punctuation">.</span>Excellent
df_movies<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>To drop a column we use the <code>drop()</code> method</p>
<pre data-role="codeBlock" data-info="python" class="language-python">df_movies<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>columns <span class="token operator">=</span> <span class="token string">&apos;Total&apos;</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

df_movies<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><h2>Matplotlib</h2>
<p>Matplotlib is a Python graphical library that can be used to produce a variety of different graph types.</p>
<p>The pandas library contains very tight integration with matplotlib. There are functions in pandas that automatically call matplotlib functions to produce graphs.</p>
<p>Although we are using Matplotlib in this workshop, pandas can make use of several other graphical libraries available from within Python such as ggplot2 and seaborn as well as interactive graphic packages such as Plotly and Bokeh.</p>
<h2>Importing matplotlib</h2>
<p>The matplotlib library can be imported using any of the import techniques we have seen. As pandas is generally imported with import pandas as pd, you will find that matplotlib is most commonly imported with import matplotlib as plt where &apos;plt&apos; is the alias.</p>
<p>In addition to importing the library, in a Jupyter notebook environment we need to tell Jupyter that when we produce a graph we want it to be display the graph in a cell in the notebook just like any other results. To do this we use the <code>%matplotlib inline</code> directive.</p>
<p>If you forget to do this, you will have to add plt.show() to see the graphs.</p>
<pre data-role="codeBlock" data-info="python" class="language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token operator">%</span>matplotlib inline
</pre><p>A variety of graphing examples are provided in the Data Carpentry for Social Science course at this url: <a href="https://datacarpentry.org/python-socialsci/13-matplotlib/index.html">https://datacarpentry.org/python-socialsci/13-matplotlib/index.html</a></p>
<p>For this workshop we will create some examples barcharts using the Movielens data set that we have been using.</p>
<p>The code for these examples are contained in the files;</p>
<p><a href="scripts\Python_Essentials_movielens.ipynb">Python_Essentials_movielens.ipynb</a> and</p>
<p><a href="scripts\Python_Essentials_movielens2.ipynb">Python_Essentials_movielens2.ipynb</a></p>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>